<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset='utf-8'>
    <title>Biker Quest Script</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="icon" href="../img/biker.ico"/>
    <link rel='stylesheet' type='text/css' media='screen' href='../main.css'>
    <link rel='stylesheet' type='text/css' media='screen' href='archive.css'>
    <link rel='stylesheet' type='text/css' media='screen' href='../franchises.css'>
    <link rel='stylesheet' type='text/css' media='screen' href='bqscode.css'>
</head>
<body>
    <header>
        <nav class="headmenu-nav">
            <a href="../index.html"><img class="headmenu-image" src="../img/headlogo.png" alt="logo"/></a>
            <ul class="headmenu-list">
                <li><a href="../index.html">Главная</a></li>
                <li><a href="../projects.html">Проекты</a></li>
                <li><a href="archive.html">Архив</a></li>
                <li><a href="../contacts.html">Контакты</a></li>
            </ul>
        </nav>
    </header>
    <main class="container">
        <div class="archive">
            <h1>Biker Quest Script</h1>
                <table class="infobox">
                    <tbody>
                        <tr class="maintitle"><th colspan="2">Biker Quest Script</th></tr>
                        <tr class="image"><td colspan="2"><img class="no-borders" src="../img/bqs.png" alt="bqs"></td></tr>
                        <tr class="description"><td colspan="2">Фрагмент кода на BQS</td></tr>
                        <tr class="franchise franchise-langs"><th colspan="2">Языки программирования</th></tr>
                        <tr>
                            <th>Следующий язык</th>
                            <td><a href="slthree.html">SLThree</a></td>
                        </tr>
                        <tr class="title"><th colspan="2">Разработка</th></tr>
                        <tr>
                            <th>Разработка</th>
                            <td>с декабря 2021</td>
                        </tr>
                        <tr>
                            <th>Написан на</th>
                            <td>C#</td>
                        </tr>
                        <tr>
                            <th>Платформы</th>
                            <td>Windows</td>
                        </tr>
                        <tr class="title"><th colspan="2">Язык программирования</th></tr>
                        <tr>
                            <th>Тип исполнения</th>
                            <td>интерпретируемый</td>
                        </tr>
                        <tr>
                            <th>Типизация</th>
                            <td>динамическая</td>
                        </tr>
                        <tr>
                            <th>Испытал влияние</th>
                            <td>C#, <a href="otherprojects.html#sunko">Sunko</a></td>
                        </tr>
                        <tr>
                            <th>Повлиял на</th>
                            <td><a href="slthree.html">SLThree</a></td>
                        </tr>
                        <tr>
                            <th>Расширение</th>
                            <td>.bqs</td>
                        </tr>
                        <tr class="title"><th colspan="2">Статистика</th></tr>
                        <tr>
                            <th>Строк кода</th>
                            <td>.cs: 21353</td>
                        </tr>
                    </tbody>
                </table>
                <p class="h1"><strong>Biker Quest Script</strong> &mdash; C-подобный императивный скриптовый язык квестов (и не только) в <a href="biker3.html">Biker 3</a>. Синтаксис очень близок к C#, что позволяет не учить целый ЯП.
                <ol class="archive-nav">
                    <li class="archive-nav-h1">Навигация:</li>
                    <li class="archive-nav-h2"><a href="#a0">Возможности и особенности</a></li>
                    <li class="archive-nav-h2"><a href="#a01">Почему не Lua, Python и прочие</a></li>
                    <li class="archive-nav-h2"><a href="#a02">Истоки разработки</a></li>
                    <li class="archive-nav-h3"><a href="#a023">Возможности и фичи Biker Quest</a></li>
                    <li class="archive-nav-h2"><a href="#a1">Спецификация</a></li>
                    <li class="archive-nav-h2"><a href="#a2">Методы Biker 3</a></li>
                    <li class="archive-nav-h2"><a href="#arefs">Ссылки</a></li>
                </ol>
                <h2 id="a0">Возможности и особенности</h2>
                <p class="h2"><strong>Ключевые:</strong></p>
                <ul>
                    <li><strong>Интерполированные строки</strong></li>
                    <li><strong>Перегрузка методов</strong></li>
                    <li><strong>Многочисленные квестовые абстракции</strong></li>
                    <li><strong>Описание и вызов методов, которые могут принимать и возвращать любые типы</strong></li>
                    <li>Вездесущность контекста и тесная связь с рефлексией</li>
                    <li>Названия типов возвращают System.Type этого типа</li>
                </ul>
                <p class="h2">Синтаксические:</p>
                <ul>
                    <li><strong>Макросы и атрибуты</strong></li>
                    <li><strong>Лямбда-выражения</strong></li>
                    <li><strong>Свойства, в т.ч. автосвойства</strong></li>
                    <li><strong>Сахарная конструкция variant =&gt; </strong></li>
                    <li>Широкий набор операций, в том числе тернарная операция и расширенное присваивание</li>
                    <li>Определение массивов через new и инициализатор массива</li>
                    <li>Возможность явного приведения типов</li>
                    <li>Циклы while, do-while, loop, for и <strong>foreach</strong>.</li>
                    <li>Все операции являются утверждениями</li>
                    <li>Каждое утверждение должно быть написано с новой строки</li>
                    <li>Необязательная ; в конце утверждений</li>
                </ul>
                <p class="h2">Прочие:</p>
                <ul>
                    <li>Использование внешних .NET-библиотек. Это полезно, но в то же время опасно</li>
                    <li>Использование любых .NET-типов и их методов через using</li>
                </ul>
                <h2 id="a01">Почему не Lua, Python и прочие</h2>
                <p class="h2">Ещё с Biker 2 у меня было желание разработать скриптовый язык, не порождая зависимости от уже существующих. Кроме того, собственный язык позволяет создавать свои абстракции и свой сахар. К тому же, BQS будучи привязанным к .NET, позволяет использовать методы Biker 3, которые можно писать непосредственно на C#, не плодя дополнительный код.</p>
                <h2 id="a02">Истоки разработки</h2>
                <p class="h2">Имя подсветки этого языка &mdash; bqs2. Это неспроста так, ведь до этого существовал язык Biker Quest (.bikerquest), имевший расширенный синтаксис моего старого проекта под названием Sunko, который был очередной попыткой создать свой скриптовый язык. В определённой мере он справлялся со своей задачей, но был слаборасширяем.</p>
                <div class="textbox">
                    <div class="bqs-code">
                        <ol>
                            <li>sunko</li>
                            <li>&nbsp;&nbsp;&nbsp;&nbsp;string x = {gettype {gettype {sunkoversion}}}</li>
                            <li>&nbsp;&nbsp;&nbsp;&nbsp;!write x</li>
                            <li>end</li>
                        </ol>
                    </div>
                    <span class="description">Пример кода на Sunko</span>
                </div>
                <p class="h2">Biker Quest был похож на Sunko внутренним представлением и синтаксисом. Методы также, как и в Sunko, могли создаваться только вручную в коде и вызывались с помощью синтаксиса {MethodName arg1 arg2}. Это легко парсить. Но, понятное дело, писать на нём было крайне неудобно (лично я за два года существования этого языка так к нему и не привык).</p>
                <div class="textbox">
                    <div class="bqs-code">
                        <ol>
                            <li>variant["0004", true] if ({money} >= QuestName.price)</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;setstage 2</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;setstage "QuestName" 2</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;REPUTATION = (REPUTATION + 1)</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;//declarations:</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;var x1: int64</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;var x2: int64 = start_date</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;var x3 = start_date</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;//assign:</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;x1 = 0</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;x2 += 1</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;x3 -= 1</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;if (true) then [setstage 1]</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;if (true) then [setstage 1] else [setstage 2]</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;if (true) then</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;begin</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;end</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;else</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;begin</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;end</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;while (true)</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;begin</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;end</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;begin</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;end</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;repeat until (true)</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;loop 100</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;end</li>
<li>end. //Здесь end и end. это разные вещи</li>
                        </ol>
                    </div>
                    <span class="description">Код на Biker Quest</span>
                </div>
                <div class="imagebox floatimage-right">
                    <img class="borders" src="../img/bqs-oldfd.png" alt="choose"><span>Описания методов</span>
                </div>
                <h3 id="a023">Возможности и фичи Biker Quest (по сравнению с Sunko):</h3>
                <ul>
                    <li><strong>Include-шаблоны кода (template)</strong></li>
                    <li>Слабочитаемый синтаксис квестовых абстракций (quest, text, stage, variant)</li>
                    <li>Глобальные константы и переменные</li>
                    <li>Однострочные условные конструкции</li>
                    <li>Иной цикл for. Выглядел так: for [var x = 0] while (x &lt; 10) do [x += 1]</li>
                    <li>Возможность вызывать описанные вручную в дереве методы. Описывать их было нереальной болью.</li>
                </ul>
                <p class="h2">Паскалеподобный синтаксис смешанный с костылями для упрощения парсинга делал из этого языка этакого франкенштейна. Кроме того, синтаксис был захламлён кучей специальных ключевых слов вроде "setstage". Последней же каплей для меня стало то, что контекст pastetemplate было невозможно восстановить вообще и в конце декабря 2021 я решил полностью переписать Biker Quest. Так появился Biker Quest Script.</p>
                <h2 id="a1">Спецификация</h2>
                <p class="h2">Подсветка сгенерирована с помощью рефлексии по BQS-конструкциям. Такой код подходит только для поверхностного ознакомления. Для подробного изучения скачайте RAW-версию кода.</p>
                <div class="textbox floatimage-after"><div class="bqs-code"><ol>
                    <li class="bqs-line">
                    <span class="bqs-comment">//Парсер языка однострочный. Одна строка - один оператор.</span>
                    </li>
                    <li class="bqs-line">
                    <span class="bqs-comment">//Комментарии только однострочные</span>
                    </li>
                    <li class="bqs-line">
                    <span class="bqs-comment">//У языка огромная схожесть с языком C#</span>
                    </li>
                    <li class="bqs-line">
                    <span class="bqs-keyword1">class </span><span class="bqs-name">ClassName</span>
                    </li>
                    <li class="bqs-line">
                    <span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Классы условны. В языке нет ООП вообще. В языке даже структур нет!</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Но если очень хочется можно написать свою C#-библиотеку и подключить её</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Значение константы хранится в дереве.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">const </span><span class="bqs-type">int </span> <span class="bqs-name">maxprice</span><span class="bqs-operator"> = </span><span class="bqs-digit">300</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Значение переменной хранится в сохранении. При доступе к переменной вне контекста игры, она вернёт своё значение по умолчанию.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//переменные должны всегда быть сериализумого типа</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//в качестве значения может использоваться вызов любых значений, для которых не нужен контекст игры</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//в том числе вызов метода в том случае если для него не нужен контекст игры.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-type">int </span> <span class="bqs-name">price</span><span class="bqs-operator"> = </span><span class="bqs-digit">200</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Список сериализуемых типов:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//sbyte, byte, short, ushort, int, uint, long, ulong, float, double, string, bool и byte[]</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Через последний тип можно представить что угодно</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Метод. Ключевое отличие от старого языка квестов. Строгости в обязательности возвращения значений нет.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Возвращаемый тип может быть любой абсолютно. Внутренне void это object, имейте это ввиду.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">void </span><span class="bqs-methodcall">Method</span>()
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Объявление переменной</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Точка с запятой в конце оператора не обязательна</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">x</span><span class="bqs-operator"> = </span><span class="bqs-digit">0</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Также переменная объявляется при присваивании, если её не существует:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">xx</span><span class="bqs-operator"> = </span><span class="bqs-digit">0</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Однако не стоит использовать эту возможность без необходимости.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Объявленные переменные пропадают после конца области действия их объявления</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Если они заменили переменную, то она не вернётся назад!</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">x</span><span class="bqs-operator"> = </span><span class="bqs-digit">0</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">xx</span><span class="bqs-operator"> = </span><span class="bqs-digit">0</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Теперь обеих этих переменных не существует.</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Присваивание переменных:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">x</span><span class="bqs-operator"> = </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Расширенное присваивание:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">x</span><span class="bqs-operator"> += </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">x</span><span class="bqs-operator"> -= </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">x</span><span class="bqs-operator"> *= </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">x</span><span class="bqs-operator"> /= </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">x</span><span class="bqs-operator"> %= </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">x</span><span class="bqs-operator"> |= </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">x</span><span class="bqs-operator"> &= </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">x</span><span class="bqs-operator"> ^= </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Операций инкремента и декремента нет. Используйте += для ++x.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Все операции являются утверждениеями, а значит их можно писать просто так:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-digit">1</span><span class="bqs-operator"> + </span><span class="bqs-digit">2</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Каждая операция имеет свой приоритет (даже - над +). Имейте это ввиду.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Порядок приоритета по возрастанию:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//"=", "+=", "-=", "*=", "/=", "%=", "&=", "|=", "^=", "&&", "||", "&", "|", "^",</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//"is", "==", "!=", "&gt;", "&gt;=", "&lt;", "&lt;=", "&gt;&gt;", "&lt;&lt;", "+", "-", "*", "/", "%", "!", "~"</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Операции составляются из отдельных символов, так что a + = 1 страктуется как a += 1!</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Тернарная операция имеет минимальный приоритет</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Выражения имеют возвращаемый тип. Требуемы возвращаемый тип зависит от конструкции.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-methodcall">#Debug.Log</span>(<span class="bqs-digit">1</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">a1</span><span class="bqs-operator"> = </span><span class="bqs-name">x</span><span class="bqs-operator"> + </span><span class="bqs-name">x</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">b1</span><span class="bqs-operator"> = </span><span class="bqs-digit">0.1</span><span class="bqs-operator"> + </span><span class="bqs-name">a1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">c1</span><span class="bqs-operator"> = </span>(<span class="bqs-type">long </span>)<span class="bqs-name">x</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">if </span>(<span class="bqs-name">a1</span><span class="bqs-operator"> is </span><span class="bqs-type">int </span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">b</span><span class="bqs-operator"> = </span>a<span class="bqs-keyword1"> is </span><span class="bqs-type">int </span> <span class="bqs-name">a1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-methodcall">#Debug.Log</span>(<span class="bqs-name">a</span> <span class="bqs-operator"> is </span> <span class="bqs-type">int </span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Старайтесь не переопределять существующие в контексте переменные. Если вы измените глубину их объявления, вы можете запутать самих себя.</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Операторы:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Блок:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Цикл while:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">while </span>(<span class="bqs-bool">false</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Или краткая версия:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">while </span>(<span class="bqs-bool">false</span>)<span class="bqs-keyword1">null</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Цикл do-while:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">do </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">while </span>(<span class="bqs-bool">false</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Краткой версии не существует</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Цикл loop:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">loop </span>(<span class="bqs-digit">1</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Краткая версия:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">loop </span>(<span class="bqs-digit">1</span>)<span class="bqs-keyword1">null</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Цикл for:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//for ([&lt;Statement&gt;]; [&lt;Expression&gt;]; [&lt;Statement&gt;]) [&lt;Statement&gt;];</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">for </span>(<span class="bqs-keyword1">var </span><span class="bqs-name">i</span><span class="bqs-operator"> = </span><span class="bqs-digit">0</span><span class="bqs-operator"> ; </span><span class="bqs-name">i</span><span class="bqs-operator"> &lt; </span><span class="bqs-digit">1</span><span class="bqs-operator"> ; </span><span class="bqs-name">i</span><span class="bqs-operator"> += </span><span class="bqs-digit">1</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">continue </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">break </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">for </span>(<span class="bqs-operator"> ; </span>)<span class="bqs-keyword1">null</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Условный оператор (краткие версии):</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">if </span>(<span class="bqs-bool">true</span>)<span class="bqs-methodcall">Log.Add</span>(<span class="bqs-digit">1</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//else if отдельная конструкция</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">else </span><span class="bqs-keyword2">if </span>(<span class="bqs-bool">true</span>)<span class="bqs-methodcall">Log.Add</span>(<span class="bqs-digit">2</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">else </span><span class="bqs-methodcall">Log.Add</span>(<span class="bqs-digit">0</span>)
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Несколько операторов на одной строке:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">a</span><span class="bqs-operator"> = </span><span class="bqs-digit">0</span><span class="bqs-operator"> ; </span><span class="bqs-keyword1">var </span><span class="bqs-name">b</span><span class="bqs-operator"> = </span><span class="bqs-digit">0</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Доступны во всех операторах (но недоступны как возвращающее значение краткого метода)</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">while </span>(<span class="bqs-name">a</span><span class="bqs-operator"> + </span><span class="bqs-name">b</span><span class="bqs-operator"> &lt; </span><span class="bqs-digit">4</span>)<span class="bqs-name">a</span><span class="bqs-operator"> += </span><span class="bqs-digit">1</span><span class="bqs-operator"> ; </span><span class="bqs-name">b</span><span class="bqs-operator"> += </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Интерполированные строки:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">string </span> <span class="bqs-name">s</span><span class="bqs-operator"> = </span><span class="bqs-unknown">"{a} {b}"</span><span class="bqs-operator"> ; </span><span class="bqs-methodcall">#Debug.Log</span>(<span class="bqs-name">s</span>)
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Имена типа возвращают экземпляр System.Type</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">t</span><span class="bqs-operator"> = </span><span class="bqs-type">string </span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Обращаться к .NET-типам можно через имена, начинающиеся с ##</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Массивы и их инициализаторы</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">a</span><span class="bqs-operator"> = </span><span class="bqs-unknown">new System.Type[1](string)</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Использование .NET-типов:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//#Type хранит полные имена типов в константах с которотким именем</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Ознакомьтесь со списком встроенных в Biker Quest Script методов</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">using </span><span class="bqs-specname">#Type.ConsoleColor</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//или:         (первое будет быстрее)</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">using </span><span class="bqs-type">##System.ConsoleColor </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-methodcall">#Debug.Log</span>(<span class="bqs-specname">#ConsoleColor.Black</span>)
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//также можно</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">using </span><span class="bqs-type">##System.Random </span><span class="bqs-operator"> as </span><span class="bqs-specname">#R</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Вызов конструктора:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Все конструкторы NET-типов именуются как #new</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">r</span><span class="bqs-operator"> = </span><span class="bqs-methodcall">#R.#new</span>()
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Короткий вызов конструктора:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">r</span><span class="bqs-operator"> = </span><span class="bqs-methodcall">#R.#new</span>()
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Типы существуют до конца области действия, как и переменные.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Чтобы можно было загружать типы из других сборок, необходимо загрузить эту .NET-сборку</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-methodcall">#Script.LoadAssembly</span>(<span class="bqs-string">"KTXCore.dll"</span>)
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">t</span><span class="bqs-operator"> = </span><span class="bqs-string">""</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Цикл foreach:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">foreach </span>(<span class="bqs-keyword1">var </span><span class="bqs-name">x</span><span class="bqs-keyword1">in </span><span class="bqs-unknown">new object[](1, 2, 3, 4)</span>)<span class="bqs-name">t</span><span class="bqs-operator"> += </span><span class="bqs-unknown">"{x} "</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Лямбда-выражения и использование методов в качестве параметров</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">m1</span><span class="bqs-operator"> = </span><span class="bqs-operator"> =&gt; </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">m2</span><span class="bqs-operator"> = </span>(<span class="bqs-name">x</span><span class="bqs-operator">, </span><span class="bqs-name">y</span>)<span class="bqs-operator"> =&gt; </span><span class="bqs-methodcall">x</span>()<span class="bqs-operator"> == </span><span class="bqs-methodcall">y</span>()
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Многострочная лямбда.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">m3</span><span class="bqs-operator"> = </span><span class="bqs-operator"> =&gt; </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">return </span><span class="bqs-methodcall">m2</span>(<span class="bqs-name">m1</span> <span class="bqs-operator">, </span> <span class="bqs-name">func_</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-methodcall">m3</span>()
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Операция :: позволяет обратиться к экземплярному методу или свойству типа</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">m3</span><span class="bqs-operator"> :: </span><span class="bqs-methodcall">Invoke</span>()
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Операция лямбды имеет самый низкий приоритет! Присвоение без var можно сделать только так:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">m1</span><span class="bqs-operator"> = </span>(<span class="bqs-operator"> =&gt; </span><span class="bqs-digit">1</span>)
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//(dynamize) для типов, отличных от object</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">int_arr1</span><span class="bqs-operator"> = </span>(<span class="bqs-type">dynamize </span>)<span class="bqs-unknown">new int[](1, 2, 3)</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">t</span><span class="bqs-operator"> = </span><span class="bqs-name">int_arr1</span><span class="bqs-operator"> :: </span><span class="bqs-methodcall">Select</span>(<span class="bqs-name">x</span> <span class="bqs-operator"> =&gt; </span> <span class="bqs-name">x</span> <span class="bqs-operator"> * </span> <span class="bqs-name">x</span>)<span class="bqs-operator"> :: </span><span class="bqs-methodcall">JoinIntoString</span>(<span class="bqs-string">", "</span>)
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Если у метода существуют перегрузки, то по имени нельзя получить его как метод.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//для этого есть специальный синтаксис</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">lambda</span><span class="bqs-operator"> = </span>(<span class="bqs-type">##method </span>)<span class="bqs-methodcall">#Math.Round</span>(<span class="bqs-type">double </span> <span class="bqs-operator">, </span> <span class="bqs-type">int </span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">var </span><span class="bqs-name">x</span><span class="bqs-operator"> = </span><span class="bqs-methodcall">lambda</span>(<span class="bqs-digit">6.5</span> <span class="bqs-operator">, </span> <span class="bqs-digit">0</span>)
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Захватывать контекст лямбды пока не умеют(</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Код можно выполнить здесь, но так чтобы он думал что он в другом дереве</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//так он получит доступ ко всем именам другого дерева</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-specname">#Script.Skill</span><span class="bqs-operator"> \ </span><span class="bqs-operator">{</span><span class="bqs-keyword1">var </span><span class="bqs-name">a</span><span class="bqs-operator"> = </span><span class="bqs-name">SportGroup.Level</span><span class="bqs-operator">}</span><span class="bqs-operator"> \ </span><span class="bqs-operator">{</span><span class="bqs-methodcall">#Debug.Log</span>(<span class="bqs-name">a</span>)<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator"> \ </span>(<span class="bqs-type">##. </span>)(<span class="bqs-name">s</span><span class="bqs-operator"> = </span><span class="bqs-digit">3</span>)<span class="bqs-operator"> \ </span><span class="bqs-operator">{</span><span class="bqs-methodcall">#Linq.JoinIntoString</span>(<span class="bqs-methodcall">#Linq.Where</span>(<span class="bqs-unknown">new object[](1, 2, 3, 4, 5)</span> <span class="bqs-operator">, </span> <span class="bqs-name">x</span> <span class="bqs-operator"> =&gt; </span> <span class="bqs-name">x</span> <span class="bqs-operator"> % </span> <span class="bqs-name">s</span> <span class="bqs-operator"> == </span> <span class="bqs-digit">0</span>) <span class="bqs-operator">, </span> <span class="bqs-string">" "</span>)<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Короткая запись метода:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//&lt;TypeName&gt; &lt;FuncName&gt;() =&gt; &lt;Expression&gt;;</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//void &lt;FuncName&gt;() =&gt; &lt;Statement&gt;;</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">int </span><span class="bqs-methodcall">func_</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">int </span> <span class="bqs-name">property</span><span class="bqs-operator"> = </span><span class="bqs-digit">14</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Свойства</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Всего 2 вида свойств и 3 вида автосвойств</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Помните, что парсер однострочный, и точно следуйте синтаксису ниже</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">int </span> <span class="bqs-name">Property1</span><span class="bqs-operator"> =&gt; </span><span class="bqs-name">property</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">int </span> <span class="bqs-name">Property2</span><span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">get </span><span class="bqs-operator"> =&gt; </span><span class="bqs-name">property</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">set </span><span class="bqs-operator"> =&gt; </span><span class="bqs-name">property</span><span class="bqs-operator"> = </span><span class="bqs-specname">#value</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">int </span> <span class="bqs-name">Property2_1</span><span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">get </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">return </span><span class="bqs-name">property</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">set </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">property</span><span class="bqs-operator"> = </span><span class="bqs-specname">#value</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Автосвойства, как и переменные, могут быть только сериализуемых типов</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">int </span> <span class="bqs-name">Property3</span><span class="bqs-operator">{</span><span class="bqs-keyword1">get </span><span class="bqs-operator"> ; </span><span class="bqs-keyword1">set </span><span class="bqs-operator"> ; </span><span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">int </span> <span class="bqs-name">Property4</span><span class="bqs-operator">{</span><span class="bqs-keyword1">get </span><span class="bqs-operator"> ; </span><span class="bqs-keyword1">set </span><span class="bqs-operator"> ; </span><span class="bqs-operator">}</span><span class="bqs-operator"> = </span><span class="bqs-digit">25</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">int </span> <span class="bqs-name">Property5</span><span class="bqs-operator">{</span><span class="bqs-keyword1">get </span><span class="bqs-operator"> ; </span><span class="bqs-operator">}</span><span class="bqs-operator"> = </span><span class="bqs-digit">30</span>
                    </li>
                    <li class="bqs-line">
                    <span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    <span class="bqs-keyword1">quest </span><span class="bqs-name">QuestName</span>
                    </li>
                    <li class="bqs-line">
                    <span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Возвращает строку типа (или группы) квестов для журнала заданий</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">const </span><span class="bqs-type">string </span> <span class="bqs-specname">#JournalGroup</span><span class="bqs-operator"> = </span><span class="bqs-string">"Второстепенные квесты"</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Доступ к словарю - Text(string key);</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">text </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-string">"desc1"</span><span class="bqs-operator"> = </span><span class="bqs-string">"Описание квеста в дневнике"</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-string">"desc2"</span><span class="bqs-operator"> = </span><span class="bqs-string">"Описание квеста появляющееся если выполнено условие"</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Краткая запись для небольших добавлений:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">text </span><span class="bqs-string">"dddd"</span><span class="bqs-operator"> = </span><span class="bqs-string">""</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Добавляет описание квесту в журнале</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">description </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">add </span><span class="bqs-string">"desc1"</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">add </span><span class="bqs-string">"desc2"</span><span class="bqs-keyword2">if </span>(<span class="bqs-bool">true</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Краткая запись для небольших добавлений:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">description </span><span class="bqs-keyword1">add </span><span class="bqs-string">"desc2"</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">description </span><span class="bqs-keyword1">add </span><span class="bqs-string">"desc2"</span><span class="bqs-keyword2">if </span>(<span class="bqs-bool">false</span>)
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Возвращает true если в этом контексте можно начать печать квеста</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//ui[&lt;Place&gt;] вернёт true только в случае совпадения с именем места. При любом другом значении вернёт false</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Удобно делать условия вроде a == 0 ? ui["All"] : ui["PlayerViewer"]</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">bool </span><span class="bqs-specmethodcall">#UIStart</span>(<span class="bqs-type">object </span> <span class="bqs-name">ui</span>)<span class="bqs-operator"> =&gt; </span><span class="bqs-name">ui</span>[<span class="bqs-string">"All"</span>]
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Вызывается при #Stage.NS (в состоянии неначатости квеста).</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Возвращает, можно ли начать выполнение квеста</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">bool </span><span class="bqs-specmethodcall">#Available</span>()
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword2">return </span><span class="bqs-bool">true</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Вызывается при первом запуске квеста если #Available вернуло true.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">void </span><span class="bqs-specmethodcall">#Start</span>()
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Внутри каждого квеста на данный момент есть специальные локальные описания.</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Свойство (язык поддерживает .NET-свойства)</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//свойство Stage возвращает стадию квеста из сохранения или задаёт эту стадию. Заданная стадия обязательно должна существовать</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//иначе будет ошибка.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-name">Stage</span><span class="bqs-operator"> = </span><span class="bqs-digit">1</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//метод Text(string) возвращает значение по ключу словаря квеста</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-methodcall">Text</span>(<span class="bqs-string">"desc1"</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Определяет, будет ли пропускаться посимвольный вывод текста этого квеста.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">bool </span><span class="bqs-methodcall">#SkipCarriage</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-bool">false</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Метод, который будет выполнен при пропуске квеста по кнопке Tab.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">void </span><span class="bqs-methodcall">#OnEscapeQuest</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-keyword1">null</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Возвращает название квеста.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">string </span><span class="bqs-specmethodcall">#Title</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-string">"Title name"</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Возвращает описание квеста вдобавок к description</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">string </span><span class="bqs-methodcall">#GetDescription</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-string">""</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Сокращённый способ определения названия квеста</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">title </span><span class="bqs-operator"> = </span><span class="bqs-unknown">"Title {(1+1)}"</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">stage </span>[<span class="bqs-digit">1</span>]
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальные методы стадий и вариантов квестов недоступны для вызова!</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Возвращает доступность выполнения в этом месте UI</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">bool </span><span class="bqs-specmethodcall">#UIStart</span>(<span class="bqs-type">object </span> <span class="bqs-name">ui</span>)<span class="bqs-operator"> =&gt; </span><span class="bqs-name">ui</span>[<span class="bqs-string">"All"</span>]
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">bool </span><span class="bqs-specmethodcall">#Available</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-bool">true</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Возвращает описание стадии квеста вдобавок к description</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">string </span><span class="bqs-methodcall">#GetDescription</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-string">""</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Добавлять в словарь квеста можно и из стадий</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">text </span><span class="bqs-string">"1_d"</span><span class="bqs-operator"> = </span><span class="bqs-string">"Текст этой стадии"</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">text </span><span class="bqs-string">"1_d2"</span><span class="bqs-operator"> = </span><span class="bqs-string">"Текст этой стадии при выполнении условия"</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">description </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">add </span><span class="bqs-string">"1_d"</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">add </span><span class="bqs-string">"1_d2"</span><span class="bqs-keyword2">if </span>(<span class="bqs-bool">true</span>)
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">variant </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">{</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Возвращающий текст варианта выбора</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">string </span><span class="bqs-specmethodcall">#GetVariantText</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-string">"Текст этого варианта"</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Отвечает за действие при выборе этого варианта</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">void </span><span class="bqs-specmethodcall">#Action</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-keyword2">return </span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Возвращает доступно ли выбрать этот вариант.</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">bool </span><span class="bqs-specmethodcall">#Available</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-bool">false</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Специальный метод. Возвращает виден ли этот вариант в случае недоступности (будет показан серым)</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-type">bool </span><span class="bqs-specmethodcall">#Visible</span>()<span class="bqs-operator"> =&gt; </span><span class="bqs-bool">false</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//Сахарная сокращённая запись:</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//variant =&gt; &lt;Expression&gt; =&gt; &lt;Statement&gt;[ =&gt; &lt;Expression&gt;[ =&gt; &lt;Expression&gt;]];</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-comment">//порядок =&gt; #GetVariantText =&gt; #Action =&gt; #Available =&gt; #Visible</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-keyword1">variant </span><span class="bqs-operator"> =&gt; </span><span class="bqs-string">"Текст этого варианта"</span><span class="bqs-operator"> =&gt; </span><span class="bqs-keyword2">return </span><span class="bqs-operator"> =&gt; </span><span class="bqs-bool">false</span><span class="bqs-operator"> =&gt; </span><span class="bqs-bool">false</span>
                    </li>
                    <li class="bqs-line">
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="bqs-operator">}</span>
                    </li>
                    <li class="bqs-line">
                    <span class="bqs-operator">}</span>
                    </li>
                    </ol></div>
                    
                    
                    <span class="description"><a href="../docs/specification.bqs">RAW-версия спецификации</a></span>
                    
                </div>
                <p class="h2">Хочу ещё добавить, что в спецификации описаны не все нюансы. К примеру, у перегрузки методов есть ограничения: будет выбран первый подходящий метод по порядку. То есть, если у нас есть, например, классы Item и BikeDetail : Item, и описать методы:</p>
                <div class="textbox">
                    <div class="bqs-code">
                        <ol>
                            <li>void p(##Gameplay.Items.Item item) => return;</li>
                            <li>void p(##Gameplay.Items.BikeDetails.BikeDetail bd) => return;</li>
                        </ol>
                    </div>
                </div>
                <span class="h2">и попытаться вызвать p(bd) для BikeDetail, вызовется первый метод, так как он первее описан.</span>
                <p class="h2">Ещё одно важное понятие &mdash; вызов экземплярных методов .NET-классов. В BQS нет объектов как таковых и все экземплярные методы могут быть вызваны только как статические с дополнительным первым аргументом. Например #Object.ToString(o); Если метод виртуальный и вы думаете какой конкретно класс использовать для вызова &mdash; используйте базовый.</p>
                
            <h2 id="arefs">Ссылки</h2>
            <ul>
                <li><a href="../docs/bqs_syntax.xml">Подсветка синтаксиса для Notepad++</a></li>
            </ul>
        </div>
    </main>
    <footer class="footinfo">
        <div class="container">
            <span><a class="footinfo-ref ref-github" href="https://github.com/AIexandrKotov/AIexandrKotov.github.io">github.com</a> Александр Котов 2022</span>
        </div>
    </footer>
</body>
</html>